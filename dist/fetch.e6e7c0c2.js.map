{"version":3,"sources":["ie/fetch.js"],"names":["url","img","document","getElementById","loadButton","stopButton","controller","startLoading","disabled","innerText","stopLoading","onclick","AbortController","response","fetch","signal","blob","imgUrl","URL","createObjectURL","src","error","console","log","message","abort"],"mappings":"AAAA,MAAMA,GAAG,GAAG,yFAAZ;AACA,MAAMC,GAAG,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAZ;AACA,MAAMC,UAAU,GAAGF,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAnB;AACA,MAAME,UAAU,GAAGH,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAnB;AACA,IAAIG,UAAJ;;AAEA,SAASC,YAAT,GAAwB;EACpBH,UAAU,CAACI,QAAX,GAAsB,IAAtB;EACAJ,UAAU,CAACK,SAAX,GAAuB,YAAvB;EACAJ,UAAU,CAACG,QAAX,GAAsB,KAAtB;AACH;;AAED,SAASE,WAAT,GAAuB;EACnBN,UAAU,CAACI,QAAX,GAAsB,KAAtB;EACAJ,UAAU,CAACK,SAAX,GAAuB,iBAAvB;EACAJ,UAAU,CAACG,QAAX,GAAsB,IAAtB;AACH;;AAEDJ,UAAU,CAACO,OAAX,GAAqB,kBAAiB;EAClCJ,YAAY;;EAEZ,IAAI;IACAD,UAAU,GAAG,IAAIM,eAAJ,EAAb;IAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACd,GAAD,EAAM;MAACe,MAAM,EAAET,UAAU,CAACS;IAApB,CAAN,CAA5B;IACA,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACG,IAAT,EAAnB;IACA,MAAMC,MAAM,GAAGC,GAAG,CAACC,eAAJ,CAAoBH,IAApB,CAAf;IACAf,GAAG,CAACmB,GAAJ,GAAUH,MAAV;EACH,CAPD,CAOE,OAAOI,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;EACH;;EAEDd,WAAW;AACd,CAfD;;AAkBAL,UAAU,CAACM,OAAX,GAAqB,YAAW;EAChCL,UAAU,CAACmB,KAAX;EACAf,WAAW;AACV,CAHD","file":"fetch.e6e7c0c2.js","sourceRoot":"..","sourcesContent":["const url = 'https://images.pexels.com/photos/974470/nature-stars-milky-way-galaxy-974470.jpeg?q=100';\nconst img = document.getElementById('huge-image');\nconst loadButton = document.getElementById('load');\nconst stopButton = document.getElementById('stop');\nlet controller;\n\nfunction startLoading() {\n    loadButton.disabled = true;\n    loadButton.innerText = 'Loading...';\n    stopButton.disabled = false;\n}\n\nfunction stopLoading() {\n    loadButton.disabled = false;\n    loadButton.innerText = 'Load HUGE Image';\n    stopButton.disabled = true;\n}\n\nloadButton.onclick = async function (){\n    startLoading();\n\n    try {\n        controller = new AbortController()\n\n        const response = await fetch(url, {signal: controller.signal});\n        const blob = await response.blob();\n        const imgUrl = URL.createObjectURL(blob);\n        img.src = imgUrl;\n    } catch (error) {\n        console.log(error.message);\n    }\n\n    stopLoading();\n}\n\n\nstopButton.onclick = function() {\ncontroller.abort();\nstopLoading();\n};"]}